---
import { MarkdocRenderer } from "astro-markdoc-renderer";
import type { Content } from "astro-markdoc-renderer";
import YouTubeEmbed from "./YouTubeEmbed.astro";
import TweetEmbed from "./TweetEmbed.astro";
import CodePenEmbed from "./CodePenEmbed.astro";
import GitHubGistEmbed from "./GitHubGistEmbed.astro";
import CodeBlock from "./CodeBlock.astro";
import Heading from "./Heading.astro";
import { noneSchema } from "src/lib/markdoc/frontmatter.schema";
import { readOne } from "src/lib/markdoc/read";

const { content, frontmatter } = await readOne({
  directory: "intro",
  slug: "intro",
  frontmatterSchema: noneSchema,
});

const components = {
  Heading: {
    Component: Heading,
    props: {},
  },
  CodeBlock: {
    Component: CodeBlock,
    props: {},
  },
  YouTubeEmbed: {
    Component: YouTubeEmbed,
    props: {},
  },
  TweetEmbed: {
    Component: TweetEmbed,
    props: {},
  },
  CodePenEmbed: {
    Component: CodePenEmbed,
    props: {},
  },
  GitHubGistEmbed: {
    Component: GitHubGistEmbed,
    props: {},
  },
};
---

<section class="mb-8">
  <div class="mb-6 space-y-5">
    <h1
      class="font-bold text-text-heading text-center text-4xl md:text-5xl pt-4 pb-2 overflow-hidden"
    >
      <span
        class="bg-gradient-to-bl bg-no-repeat bg-bottom bg-[length:90%_40%] from-primary-blue to-primary-blue dark:from-primary-blue dark:to-primary-blue "
        id="typewriter"
      >
        March Towards Infinity
      </span>
    </h1>
    <p class="text-2xl pb-4 space-y-0">Blog of N3M0</p>
  </div>
</section>

<div class="text-justify blog-post prose max-w-none prose-bubblegum">
  <MarkdocRenderer content={content} components={components} />
</div>